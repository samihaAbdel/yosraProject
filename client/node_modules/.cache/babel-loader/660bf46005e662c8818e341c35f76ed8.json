{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\samka\\\\OneDrive\\\\Bureau\\\\My-Mern-Backend\\\\client\\\\src\\\\components\\\\Post\\\\LikeButton.js\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { UidContext } from \"../AppContext\";\nimport Popup from \"reactjs-popup\";\nimport \"reactjs-popup/dist/index.css\";\nimport { useDispatch } from \"react-redux\";\nimport { likePost, unlikePost } from \"../../actions/post.actions\";\nconst LikeButton = ({\n  post\n}) => {\n  const [liked, setLiked] = useState(false);\n  const uid = useContext(UidContext);\n  const dispatch = useDispatch();\n  const like = () => {\n    dispatch(likePost(post._id, uid));\n    setLiked(true);\n  };\n  const unlike = () => {\n    dispatch(unlikePost(post._id, uid));\n    setLiked(false);\n  };\n  useEffect(() => {\n    if (post.likers.includes(uid)) setLiked(true);else setLiked(false);\n  }, [uid, post.likers, liked]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"like-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, uid === null && /*#__PURE__*/React.createElement(Popup, {\n    trigger: /*#__PURE__*/React.createElement(\"img\", {\n      src: \"./img/icons/heart.svg\",\n      alt: \"like\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 20\n      }\n    }),\n    position: [\"bottom center\", \"bottom right\", \"bottom left\"],\n    closeOnDocumentClick: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, \"Connectez-vous pour aimer un post !\")), uid && liked === false && /*#__PURE__*/React.createElement(\"img\", {\n    src: \"./img/icons/heart.svg\",\n    onClick: like,\n    alt: \"like\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }), uid && liked && /*#__PURE__*/React.createElement(\"img\", {\n    src: \"./img/icons/heart-filled.svg\",\n    onClick: unlike,\n    alt: \"unlike\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, post.likers.length));\n};\nexport default LikeButton;","map":{"version":3,"names":["React","useContext","useEffect","useState","UidContext","Popup","useDispatch","likePost","unlikePost","LikeButton","post","liked","setLiked","uid","dispatch","like","_id","unlike","likers","includes","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","trigger","src","alt","position","closeOnDocumentClick","onClick","length"],"sources":["C:/Users/samka/OneDrive/Bureau/My-Mern-Backend/client/src/components/Post/LikeButton.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { UidContext } from \"../AppContext\";\r\nimport Popup from \"reactjs-popup\";\r\nimport \"reactjs-popup/dist/index.css\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { likePost, unlikePost } from \"../../actions/post.actions\";\r\n\r\nconst LikeButton = ({ post }) => {\r\n  const [liked, setLiked] = useState(false);\r\n  const uid = useContext(UidContext);\r\n  const dispatch = useDispatch();\r\n\r\n  const like = () => {\r\n    dispatch(likePost(post._id, uid))\r\n    setLiked(true);\r\n  };\r\n\r\n  const unlike = () => {\r\n    dispatch(unlikePost(post._id, uid))\r\n    setLiked(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (post.likers.includes(uid)) setLiked(true);\r\n    else setLiked(false);\r\n  }, [uid, post.likers, liked]);\r\n\r\n  return (\r\n    <div className=\"like-container\">\r\n      {uid === null && (\r\n        <Popup\r\n          trigger={<img src=\"./img/icons/heart.svg\" alt=\"like\" />}\r\n          position={[\"bottom center\", \"bottom right\", \"bottom left\"]}\r\n          closeOnDocumentClick\r\n        >\r\n          <div>Connectez-vous pour aimer un post !</div>\r\n        </Popup>\r\n      )}\r\n      {uid && liked === false && (\r\n        <img src=\"./img/icons/heart.svg\" onClick={like} alt=\"like\" />\r\n      )}\r\n      {uid && liked && (\r\n        <img src=\"./img/icons/heart-filled.svg\" onClick={unlike} alt=\"unlike\" />\r\n      )}\r\n      <span>{post.likers.length}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LikeButton;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\benam\\\\OneDrive\\\\Bureau\\\\My-Mern-Project\\\\client\\\\src\\\\components\\\\Post\\\\CardComments.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addComment, getPosts } from \"../../actions/post.actions\";\nimport FollowHandler from \"../Profil/FollowHandler\";\nimport { isEmpty, timestampParser } from \"../Utils\";\nimport EditDeleteComment from \"./EditDeleteComment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CardComments = ({\n  post\n}) => {\n  _s();\n  const [text, setText] = useState(\"\");\n  const usersData = useSelector(state => state.usersReducer);\n  const userData = useSelector(state => state.userReducer);\n  const dispatch = useDispatch();\n  const handleComment = e => {\n    e.preventDefault();\n    if (text) {\n      dispatch(addComment(post._id, userData._id, text, userData.pseudo)).then(() => dispatch(getPosts())).then(() => setText(''));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comments-container\",\n    children: [post.comments.map(comment => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: comment.commenterId === userData._id ? \"comment-container client\" : \"comment-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"left-part\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: !isEmpty(usersData[0]) && usersData.map(user => {\n              if (user._id === comment.commenterId) return user.picture;else return null;\n            }).join(\"\"),\n            alt: \"commenter-pic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"right-part\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pseudo\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: comment.commenterPseudo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 19\n              }, this), comment.commenterId !== userData._id && /*#__PURE__*/_jsxDEV(FollowHandler, {\n                idToFollow: comment.commenterId,\n                type: \"card\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: timestampParser(comment.timestamp)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: comment.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(EditDeleteComment, {\n            comment: comment,\n            postId: post._id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)]\n      }, comment._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 11\n      }, this);\n    }), userData._id && /*#__PURE__*/_jsxDEV(\"form\", {\n      action: \"\",\n      onSubmit: handleComment,\n      className: \"comment-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"text\",\n        onChange: e => setText(e.target.value),\n        value: text,\n        placeholder: \"Laisser un commentaire\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Envoyer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n};\n_s(CardComments, \"ZHyW6oEmvqsEpl2vcMvFa+6fKc4=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n_c = CardComments;\nexport default CardComments;\nvar _c;\n$RefreshReg$(_c, \"CardComments\");","map":{"version":3,"names":["React","useState","useDispatch","useSelector","addComment","getPosts","FollowHandler","isEmpty","timestampParser","EditDeleteComment","jsxDEV","_jsxDEV","CardComments","post","_s","text","setText","usersData","state","usersReducer","userData","userReducer","dispatch","handleComment","e","preventDefault","_id","pseudo","then","className","children","comments","map","comment","commenterId","src","user","picture","join","alt","fileName","_jsxFileName","lineNumber","columnNumber","commenterPseudo","idToFollow","type","timestamp","postId","action","onSubmit","name","onChange","target","value","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/benam/OneDrive/Bureau/My-Mern-Project/client/src/components/Post/CardComments.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addComment, getPosts } from \"../../actions/post.actions\";\nimport FollowHandler from \"../Profil/FollowHandler\";\nimport { isEmpty, timestampParser } from \"../Utils\";\nimport EditDeleteComment from \"./EditDeleteComment\";\n\nconst CardComments = ({ post }) => {\n  const [text, setText] = useState(\"\");\n  const usersData = useSelector((state) => state.usersReducer);\n  const userData = useSelector((state) => state.userReducer);\n  const dispatch = useDispatch();\n\n  const handleComment = (e) => {\n    e.preventDefault();\n\n    if (text) {\n      dispatch(addComment(post._id, userData._id, text, userData.pseudo))\n        .then(() => dispatch(getPosts()))\n        .then(() => setText(''));\n    }\n  };\n\n  return (\n    <div className=\"comments-container\">\n      {post.comments.map((comment) => {\n        return (\n          <div\n            className={\n              comment.commenterId === userData._id\n                ? \"comment-container client\"\n                : \"comment-container\"\n            }\n            key={comment._id}\n          >\n            <div className=\"left-part\">\n              <img\n                src={\n                  !isEmpty(usersData[0]) &&\n                  usersData\n                    .map((user) => {\n                      if (user._id === comment.commenterId) return user.picture;\n                      else return null;\n                    })\n                    .join(\"\")\n                }\n                alt=\"commenter-pic\"\n              />\n            </div>\n            <div className=\"right-part\">\n              <div className=\"comment-header\">\n                <div className=\"pseudo\">\n                  <h3>{comment.commenterPseudo}</h3>\n                  {comment.commenterId !== userData._id && (\n                    <FollowHandler\n                      idToFollow={comment.commenterId}\n                      type={\"card\"}\n                    />\n                  )}\n                </div>\n                <span>{timestampParser(comment.timestamp)}</span>\n              </div>\n              <p>{comment.text}</p>\n              <EditDeleteComment comment={comment} postId={post._id} />\n            </div>\n          </div>\n        );\n      })}\n      {userData._id && (\n        <form action=\"\" onSubmit={handleComment} className=\"comment-form\">\n          <input\n            type=\"text\"\n            name=\"text\"\n            onChange={(e) => setText(e.target.value)}\n            value={text}\n            placeholder=\"Laisser un commentaire\"\n          />\n          <br />\n          <input type=\"submit\" value=\"Envoyer\" />\n        </form>\n      )}\n    </div>\n  );\n};\n\nexport default CardComments;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}